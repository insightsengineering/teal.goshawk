% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/tm_g_spaghettiplot.R
\name{tm_g_spaghettiplot}
\alias{tm_g_spaghettiplot}
\title{Spaghetti Plot}
\usage{
tm_g_spaghettiplot(label, dataname, param_var, param_choices = param, param,
  param_var_label = "PARAM", idvar, xvar, yvar, xvar_choices = xvar,
  yvar_choices = yvar, xvar_level = NULL, filter_var = yvar,
  filter_var_choices = filter_var, trt_group, trt_group_level = NULL,
  group_stats = "NONE", hline = NULL, man_color = NULL,
  xtick = waiver(), xlabel = xtick, rotate_xlab = FALSE, facet_ncol = 2,
  plot_height = c(600, 200, 2000), font_size = c(12, 8, 20))
}
\arguments{
\item{label}{menu item label of the module in the teal app.}

\item{dataname}{analysis data passed to the data argument of teal init. E.g. ADaM structured laboratory data frame ALB.}

\item{param_var}{name of variable containing biomarker codes e.g. PARAMCD.}

\item{param_choices}{list of biomarkers of interest.}

\item{param}{biomarker selected.}

\item{param_var_label}{single name of variable in analysis data that includes parameter labels.}

\item{idvar}{name of unique subject id variable.}

\item{xvar}{single name of variable in analysis data that is used as x-axis in the plot for the respective goshawk function.}

\item{yvar}{single name of variable in analysis data that is used as summary variable in the respective gshawk function.}

\item{xvar_choices}{vector with variable names that can be used as xvar.}

\item{yvar_choices}{vector with variable names that can be used as yvar.}

\item{xvar_level}{vector that can be used to define the factor level of xvar. Only use it when xvar is character or factor.}

\item{filter_var}{data constraint variable.}

\item{filter_var_choices}{data constraint variable choices.}

\item{trt_group}{name of variable representing treatment group e.g. ARM.}

\item{trt_group_level}{vector that can be used to define factor level of trt_group.}

\item{group_stats}{control group mean or median overlay.}

\item{hline}{numeric value to add horizontal line to plot}

\item{man_color}{string vector representing customized colors}

\item{xtick}{numeric vector to define the tick values of x-axis when x variable is numeric. Default value is waive().}

\item{xlabel}{vector with same length of xtick to define the label of x-axis tick values. Default value is waive().}

\item{rotate_xlab}{boolean value indicating whether to rotate x-axis labels}

\item{facet_ncol}{numeric value indicating number of facets per row.}

\item{plot_height}{numeric vectors to define the plot height.}

\item{font_size}{control font size for title, x-axis, y-axis and legend font.}
}
\value{
\code{shiny} object
}
\description{
This teal module renders the UI and calls the function that creates a spaghetti plot.
}
\examples{

\dontrun{
# EXAMPLE

library(random.cdisc.data)

ASL <- radam('ASL', N = 100)
ANL <- expand.grid(
  STUDYID = "STUDY A",
  USUBJID = paste0("id-",1:100),
  VISITN = c(1:10),
  ARM = c("ARM A", "ARM B"),
  PARAMCD = c("CRP", "IGG", "IGM")
)
ANL$VISIT <- paste0("visit ", ANL$VISITN)
ANL$AVAL <- rnorm(nrow(ANL))
ANL$CHG <- rnorm(nrow(ANL), 2, 2)
ANL$CHG[ANL$VISIT == "visit 1"] <- NA
ANL$PCHG <- ANL$CHG/ANL$AVAL*100

ANL$ARM <- factor(ANL$ARM)
ANL$VISIT <- factor(ANL$VISIT)

x <- teal::init(
  data = list(ASL = ASL, ALB = ANL),
  modules = root_modules(
    tm_g_spaghettiplot(
      label = "Spaghetti Plot",
      dataname = "ALB",
      param_var = "PARAMCD",
      param = "CRP",
      param_choices = c("CRP","IGG","IGM"),
      idvar = "USUBJID",
      xvar = "VISIT",
      yvar = "AVAL",
      yvar_choices = c("AVAL","CHG", "PCHG"),
      trt_group = "ARM"
    )
  )
)

shinyApp(x$ui, x$server)
}
}
\author{
Wenyi Liu (luiw2) wenyi.liu@roche.com

Balazs Toth (tothb2) toth.balazs@gene.com
}
