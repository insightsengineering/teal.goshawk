% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/tm_g_spaghettiplot.R
\name{tm_g_spaghettiplot}
\alias{tm_g_spaghettiplot}
\title{Spaghetti plot Teal Module}
\usage{
tm_g_spaghettiplot(label, dataname, idvar, xvar, yvar, xvar_choices = xvar,
  yvar_choices = yvar, param_var, param, param_choices = param, trt_group,
  hline = NULL, rotate_xlab = FALSE, facet_ncol = 2,
  plot_height = c(600, 200, 2000))
}
\arguments{
\item{label}{menue item label of the module in the teal app}

\item{dataname}{analysis data used in teal module, needs to be available in the list passed to the data argument of init. 
Note that the data is expected to be in vertical form with the PARAMCD variable filtering to one observation per patient.}

\item{idvar}{name of unique subject id variable.}

\item{xvar}{single name of variable in analysis data that is used as x-axis in the plot for the respective goshawk function.}

\item{yvar}{single name of variable in analysis data that is used as summary variable in the respective gshawk function.}

\item{xvar_choices}{vector with variable names that can be used as xvar.}

\item{yvar_choices}{vector with variable names that can be used as yvar.}

\item{param_var}{single name of variable in analysis data that includes parameter names.}

\item{param}{parameter name}

\item{param_choices}{vector of parameter names that can be used in param.}

\item{trt_group}{single name of treatment arm variable.}

\item{hline}{numeric value to add horizontal line to plot}

\item{rotate_xlab}{boolean value indicating whether to rotate x-axis labels}

\item{facet_ncol}{numeric value indicating number of facets per row.}

\item{plot_height}{numeric vectors to define the plot height.}

\item{xvar_level}{vector that can be used to define the factor level of xvar.}

\item{trt_group_level}{vector that can be used to define factor level of trt_group.}
}
\value{
\code{shiny} object
}
\description{
Spaghetti plot Teal Module
}
\details{

}
\examples{

library(random.cdisc.data)

ASL <- radam('ASL', N = 100)
ANL <- expand.grid(
  STUDYID = "STUDY A",
  USUBJID = paste0("id-",1:100),
  VISIT = paste0("visit ", 1:10),
  ARM = c("ARM A", "ARM B"),
  PARAMCD = c("CRP", "IGG", "IGM")
)
ANL$AVAL <- rnorm(nrow(ANL))
ANL$CHG <- rnorm(nrow(ANL), 2, 2)
ANL$CHG[ANL$VISIT == "visit 1"] <- NA
ANL$PCHG <- ANL$CHG/ANL$AVAL*100

ANL$ARM <- factor(ANL$ARM)
ANL$VISIT <- factor(ANL$VISIT)

x <- teal::init(
  data = list(ASL = ASL, ALB = ANL),
  modules = root_modules(
    tm_g_spaghettiplot(
      label = "Spaghetti Plot",
      dataname = "ALB",
      idvar = "USUBJID",
      xvar = "VISIT",
      yvar = "AVAL",
      yvar_choices = c("AVAL","CHG", "PCHG"),
      param_var = "PARAMCD",
      param = "CRP",
      param_choices = c("CRP","IGG","IGM"),
      trt_group = "ARM"
    )
  )
)

shinyApp(x$ui, x$server)
}
\author{
Wenyi Liu (wenyi.liu@roche.com)
}
