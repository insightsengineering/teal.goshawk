<!DOCTYPE html>
<!-- Generated by pkgdown + https://github.com/insightsengineering/r-pkgdown-multiversion -->
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="teal.goshawk">
<title>Data Expectations • teal.goshawk</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Data Expectations">
<meta property="og:description" content="teal.goshawk">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><link rel="stylesheet" href="../consent.css">
<script src="../consent.js" type="text/javascript" charset="utf-8"></script>
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">teal.goshawk</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.15</small>

    <div style="width: 140px; margin-left: 0.5rem;"> <small class="nav-text text-muted me-auto">part of</small> <img src="https://github.com/insightsengineering/hex-stickers/blob/main/PNG/nest.png?raw=true" alt="NEST" style="height: 30px;"><a href="https://pharmaverse.org/" class="external-link"><img src="https://github.com/insightsengineering/hex-stickers/blob/main/PNG/pharmaverse.png?raw=true" alt="pharmaverse" style="height: 28px;"></a> </div>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../articles/teal-goshawk.html">Get started</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/data-expectations.html">Data Expectations</a>
    <a class="dropdown-item" href="../articles/user-guide.html">User Guide</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>

<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-reports">Reports</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-reports">
    <a class="dropdown-item" href="../coverage-report/">Coverage report</a>
    <a class="dropdown-item" href="../unit-test-report/">Unit test report</a>
  </div>
</li>
      <li class="nav-item dropdown">
    <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-versions">Versions</a>
    <div class="dropdown-menu" aria-labelledby="dropdown-versions">
    <a class="dropdown-item" data-toggle="tooltip" title="" href="https://insightsengineering.github.io/teal.goshawk/release-candidate">release-candidate</a>
<a class="dropdown-item" data-toggle="tooltip" title="" href="https://insightsengineering.github.io/teal.goshawk/main">main</a>
<a class="dropdown-item" data-toggle="tooltip" title="" href="https://insightsengineering.github.io/teal.goshawk/latest-tag">latest-tag</a>
<a class="dropdown-item" data-toggle="tooltip" title="" href="https://insightsengineering.github.io/teal.goshawk/v0.5.0-rc1">v0.5.0-rc1</a>
<a class="dropdown-item" data-toggle="tooltip" title="" href="https://insightsengineering.github.io/teal.goshawk/v0.4.0">v0.4.0</a>
<a class="dropdown-item" data-toggle="tooltip" title="" href="https://insightsengineering.github.io/teal.goshawk/v0.3.0">v0.3.0</a>
<a class="dropdown-item" data-toggle="tooltip" title="" href="https://insightsengineering.github.io/teal.goshawk/v0.2.0">v0.2.0</a>
<a class="dropdown-item" data-toggle="tooltip" title="" href="https://insightsengineering.github.io/teal.goshawk/v0.1.15">v0.1.15</a>
<a class="dropdown-item" data-toggle="tooltip" title="" href="https://insightsengineering.github.io/teal.goshawk/v0.1.14">v0.1.14</a>
</div>
</li>
</ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/insightsengineering/teal.goshawk">
    <span class="fa fa-github"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Data Expectations</h1>
                        <h4 data-toc-skip class="author">NEST CoreDev
Team</h4>
            
            <h4 data-toc-skip class="date">10.11.2022</h4>
      
      
      <div class="d-none name"><code>data-expectations.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p><code>teal.goshawk</code> expects to be provided <code>ADSL</code>
and an accompanying <code>ADLB</code> clinical trials data set in
<code>ADaM</code> format. For more information on <code>ADaM</code>
please the <a href="https://www.cdisc.org/standards/foundational/adam" class="external-link"><code>ADaM standards</code></a>.</p>
<p>The package provides ready-to-use <code>teal</code> modules you can
embed in your <code>teal</code> application. The modules generate highly
customizable plots and outputs often used in exploratory data analysis,
e.g.:</p>
<ul>
<li>box plots - <code><a href="../reference/tm_g_gh_boxplot.html">tm_g_gh_boxplot()</a></code>
</li>
<li>correlation and scatter plots -
<code><a href="../reference/tm_g_gh_correlationplot.html">tm_g_gh_correlationplot()</a></code> and
<code><a href="../reference/tm_g_gh_scatterplot.html">tm_g_gh_scatterplot()</a></code>
</li>
<li>density distribution plots -
<code><a href="../reference/tm_g_gh_density_distribution_plot.html">tm_g_gh_density_distribution_plot()</a></code>
</li>
<li>line plots - <code><a href="../reference/tm_g_gh_lineplot.html">tm_g_gh_lineplot()</a></code>
</li>
<li>spaghetti plots - <code>tm_g_spaghettiplot()</code>
</li>
</ul>
<p>See <a href="https://insightsengineering.github.io/teal.goshawk/reference/index.html"><code>package functions / modules</code></a>.</p>
</div>
<div class="section level2">
<h2 id="data-expectations">Data Expectations<a class="anchor" aria-label="anchor" href="#data-expectations"></a>
</h2>
<div class="section level4">
<h4 id="adsl">
<code>ADSL</code><a class="anchor" aria-label="anchor" href="#adsl"></a>
</h4>
<p>This is a subject level data set with one record per subject and
includes any variables that are intended to be used for plot
splitting</p>
<ul>
<li>For example if it is the intention to be able to split the line plot
by some outcome variable then that outcome variable must be in
<code>ADSL</code>.
<ul>
<li>e.g. <code>ABCWK24</code> which represents a two level outcome
variable with values of <code>"Y"</code> and <code>"N"</code> at Week
24. <br><br>
</li>
</ul>
</li>
</ul>
</div>
<div class="section level4">
<h4 id="adlb">
<code>ADLB</code><a class="anchor" aria-label="anchor" href="#adlb"></a>
</h4>
<p>This is a Basic Data Structure (<code>BDS</code>) data set meaning
multiple records per subject per assay (<code>PARAM</code>) across
unique time points. Additional variables that are intended to be used
for plot splitting should be joined to <code>ADLB</code>.</p>
<ul>
<li>See <code>ADSL</code> example above where <code>ABCWK24</code> would
need to be joined to <code>ADLB</code> <br><br>
</li>
</ul>
</div>
<div class="section level3">
<h3 id="other-basic-data-structures">Other Basic Data Structures<a class="anchor" aria-label="anchor" href="#other-basic-data-structures"></a>
</h3>
<p>Other <code>BDS</code> data sets could be provisioned to
<code>teal.goshawk</code> like <code>ADQS</code> which contains multiple
records per subject per question (<code>PARAM</code>) across unique time
points. However with all cases other than <code>ADLB</code> there are
likely workarounds needed.</p>
<ul>
<li>For example the concept of assay units, stored in
<code>AVALU</code>, is not really relevant to a <code>BDS</code> like
<code>ADQS</code> which contains questionnaire data. Given
<code>teal.goshawk</code> expects an <code>AVALU</code> variable and
uses the values in the plot title and y-axis label, <code>AVALU</code>
would need to be added to <code>ADQS</code> with some appropriate value:
Perhaps <code>"Q"</code>. If a value is not provided the the
<code>"()"</code> portion of the title and y-axis label will be
empty.</li>
</ul>
</div>
</div>
<div class="section level2">
<h2 id="required-variables">Required Variables<a class="anchor" aria-label="anchor" href="#required-variables"></a>
</h2>
<p>Several variables are required to realize the full functionality of
<code>teal.goshawk</code>. <br><br></p>
<div class="section level4">
<h4 id="trtord">
<code>TRTORD</code><a class="anchor" aria-label="anchor" href="#trtord"></a>
</h4>
<p><strong>Definition:</strong> This variable orders treatment values in
the legend</p>
<p><strong>Rationale:</strong> Allows for congruent ordering as compared
to other outputs being generated by a study team</p>
<p><strong>Alternative:</strong> Variable is required <br><br></p>
</div>
<div class="section level4">
<h4 id="avisitcd">
<code>AVISITCD</code><a class="anchor" aria-label="anchor" href="#avisitcd"></a>
</h4>
<p><strong>Definition:</strong> This variable contains abbreviated
values of <code>AVISIT</code> values</p>
<p><strong>Rationale:</strong> Many <code>AVISIT</code> values are long
and contain arguably superfluous information in some cases. Using these
long values as x-axis tick labels can really chew into the real estate
area available for the plot. Using thoughtful abbreviations conveys
chronology with no substantive loss of information and maximizes the
area available for the plot.</p>
<p><strong>Alternative:</strong> If in cases creating abbreviations is
not helpful then simply set <code>AVISITCD &lt;- AVISIT</code>
<br><br></p>
</div>
<div class="section level4">
<h4 id="avisitcdn">
<code>AVISITCDN</code><a class="anchor" aria-label="anchor" href="#avisitcdn"></a>
</h4>
<p><strong>Definition:</strong> This variable contains the numeric
portion of <code>AVISITCD</code> values</p>
<p><strong>Rationale:</strong> Often <code>AVISITN</code> contains
values that are not particularly helpful to reflect the proportional
chronology of visits. Once <code>AVISITCD</code> is created then it is
helpful to create the numeric values from <code>AVISITCD</code> values
that can be seen as intuitively reflecting the visit chronology. For
example: 0, 2, 4, 12, 24, 56, 84 etc. for weeks or 0, 14, 28, 84, 168,
392, 588 etc. for days. Using these, the longitudinal visualization
x-axis will nicely reflect proportional distances between visits.</p>
<p><strong>Alternative:</strong> If in cases creating a more intuitive
numeric chronology is not helpful then simply set
<code>AVISITCDN &lt;- AVISITN</code> <br><br></p>
</div>
<div class="section level4">
<h4 id="avalu">
<code>AVALU</code><a class="anchor" aria-label="anchor" href="#avalu"></a>
</h4>
<p><strong>Definition:</strong> Analysis Value Unit</p>
<p><strong>Rationale:</strong> Used in the plot title and y-axis labels.
Please see <code>"Other BDS data sets"</code> comments above</p>
<p><strong>Alternative:</strong> Variable is required. <br><br></p>
</div>
<div class="section level4">
<h4 id="lbstresc">
<code>LBSTRESC</code><a class="anchor" aria-label="anchor" href="#lbstresc"></a>
</h4>
<p><strong>Definition:</strong> From <code>SDTM</code> Character
Result/Finding in Std Format</p>
<p><strong>Rationale:</strong> As a character type variable, this
variable contains values that include those below or above limits of
quantitation (<code>LOQ</code>). These might look like
<code>"2.1&lt;"</code> or <code>"&gt;20.7"</code>. When this is the case
then <code>AVAL</code> is often missing. It is important to be able to
still capture these values so the following derivation is used to do so
and when this is needed the <code>LOQFL</code> variable should be set to
<code>"Y"</code>. This signifies that the <code>AVAL</code> value for
this record has been derived. - For values below the limit of
quantitation, <code>AVAL</code> is set to the numeric portion of
<code>LBSTRESC</code> divided by 2. - For values above the limit of
quantitation, <code>AVAL</code> is set to the numeric portion of
<code>LBSTRESC</code>.</p>
<p><strong>Alternative:</strong> Variable is required <br><br></p>
</div>
<div class="section level4">
<h4 id="loqfl">
<code>LOQFL</code><a class="anchor" aria-label="anchor" href="#loqfl"></a>
</h4>
<p><strong>Definition:</strong> This is not an <code>ADaM</code>
standard variable but represents the Limit of Quantitation Flag</p>
<p><strong>Rationale:</strong> Set to <code>"Y"</code> when
<code>LBSTRESC</code> value is used to populate <code>AVAL</code> and
<code>LBSTRESC</code> value is either below a limit of quantitation for
the assay or above the limit of quantitation for the assay. Derivations
for <code>AVAL</code> and <code>LOQFL</code> could look like the
following in a <code><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate()</a></code> statement. -
<code>AVAL = if_else(grepl("&lt;|&gt;", LBSTRESC), as.numeric(gsub("[^0-9, .]+", "", LBSTRESC)), AVAL)</code>
-
<code>LOQFL = if_else(grepl("&lt;|&gt;", LBSTRESC), "Y", "N")</code></p>
<p><strong>Alternative:</strong> If the limit of quantitation concept is
not relevant then please set <code>LOQFL &lt;- "N"</code> <br><br></p>
</div>
<div class="section level4">
<h4 id="base2">
<code>BASE2</code><a class="anchor" aria-label="anchor" href="#base2"></a>
</h4>
<p><strong>Definition:</strong> This is not an <code>ADaM</code>
standard variable but represents the assay value at Screening</p>
<p><strong>Rationale:</strong> When change from Screening visit analyses
are needed then this variable contains the assay value at Screening</p>
<p><strong>Alternative:</strong> If Screening visit analyses are not
relevant then please set <code>BASE2 &lt;- NA</code> <br><br></p>
</div>
<div class="section level4">
<h4 id="chg2">CHG2<a class="anchor" aria-label="anchor" href="#chg2"></a>
</h4>
<p><strong>Definition:</strong> This is not an <code>ADaM</code>
standard variable but represents the change from Screening assay
value</p>
<p><strong>Rationale:</strong> When change from Screening visit analyses
are needed then this variable contains the assay value change between
Screening and subsequent visit</p>
<p><strong>Alternative:</strong> If Screening visit analyses are not
relevant then please set <code>CHG2 &lt;- NA</code> <br><br></p>
</div>
<div class="section level4">
<h4 id="pchg2">
<code>PCHG2</code><a class="anchor" aria-label="anchor" href="#pchg2"></a>
</h4>
<p><strong>Definition:</strong> This is not an <code>ADaM</code>
standard variable but represents the percent change from Screening assay
value</p>
<p><strong>Rationale:</strong> When percent change from Screening visit
analyses are needed then this variable contains the assay value percent
change between Screening and subsequent visit</p>
<p><strong>Alternative:</strong> If Screening visit analyses are not
relevant then please set <code>PCHG2 &lt;- NA</code> <br><br></p>
</div>
</div>
<div class="section level2">
<h2 id="additional-variables">Additional Variables<a class="anchor" aria-label="anchor" href="#additional-variables"></a>
</h2>
<p>There are additional data manipulations that are performed to create
variables that are useful in the context of longitudinal visualizations
<br><br></p>
<div class="section level4">
<h4 id="avall2-basel2-base2l2">
<code>AVALL2</code>, <code>BASEL2</code>, <code>BASE2L2</code><a class="anchor" aria-label="anchor" href="#avall2-basel2-base2l2"></a>
</h4>
<p><strong>Description:</strong> Log 2 of <code>AVAL</code>,
<code>BASE</code> and <code>BASE2</code> respectively</p>
<p><strong>Rationale:</strong> This transformation addresses data
variance to improve the interpretability or appearance of plots.</p>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="nest">
  <p>teal.goshawk is a part of the <strong>NEST</strong> and <a href="https://pharmaverse.org/" class="external-link"><strong>pharmaverse</strong></a>.</p>
</div>
<script type="text/javascript" src="../analytics.js"></script></footer>
</div>

  

  

  </body>
</html>
