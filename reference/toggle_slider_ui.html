<!DOCTYPE html>
<!-- Generated by pkgdown + https://github.com/insightsengineering/r-pkgdown-multiversion -->
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="This is useful when a slider should be shown, but it is sometimes hard to configure sliders,
so one can toggle to one or two numeric input fields to set slider instead.
Both normal sliders (for a single number in a range) and dichotomous sliders (for a range
within the slider range) are supported. In the former case, the toggle button
will show one numeric input field, in the latter case two.">
<title>UI with a toggable slider to change between slider and numeric input fields — toggle_slider_ui • teal.goshawk</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.1.0/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.1.0/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="UI with a toggable slider to change between slider and numeric input fields — toggle_slider_ui">
<meta property="og:description" content="This is useful when a slider should be shown, but it is sometimes hard to configure sliders,
so one can toggle to one or two numeric input fields to set slider instead.
Both normal sliders (for a single number in a range) and dichotomous sliders (for a range
within the slider range) are supported. In the former case, the toggle button
will show one numeric input field, in the latter case two.">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><link rel="stylesheet" href="../consent.css">
<script src="../consent.js" type="text/javascript" charset="utf-8"></script>
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">teal.goshawk</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.13.9000</small>

    <div style="width: 140px; margin-left: 0.5rem;"> <small class="nav-text text-muted me-auto">part of</small> <img src="https://github.com/insightsengineering/hex-stickers/blob/main/PNG/nest.png?raw=true" alt="NEST" style="height: 30px;"><a href="https://pharmaverse.org/" class="external-link"><img src="https://github.com/insightsengineering/hex-stickers/blob/main/PNG/pharmaverse.png?raw=true" alt="pharmaverse" style="height: 28px;"></a> </div>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>

      <li class="nav-item dropdown">
    <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-versions">Versions</a>
    <div class="dropdown-menu" aria-labelledby="dropdown-versions">
    <a class="dropdown-item" data-toggle="tooltip" title="" href="https://insightsengineering.github.io/teal.goshawk/main">main</a>
<a class="dropdown-item" data-toggle="tooltip" title="" href="https://insightsengineering.github.io/teal.goshawk/latest-tag">latest-tag</a>
<a class="dropdown-item" data-toggle="tooltip" title="" href="https://insightsengineering.github.io/teal.goshawk/v0.3.0">v0.3.0</a>
<a class="dropdown-item" data-toggle="tooltip" title="" href="https://insightsengineering.github.io/teal.goshawk/v0.2.0">v0.2.0</a>
<a class="dropdown-item" data-toggle="tooltip" title="" href="https://insightsengineering.github.io/teal.goshawk/v0.1.15">v0.1.15</a>
<a class="dropdown-item" data-toggle="tooltip" title="" href="https://insightsengineering.github.io/teal.goshawk/v0.1.14">v0.1.14</a>
</div>
</li>
</ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/insightsengineering/teal.goshawk">
    <span class="fa fa-github"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>UI with a toggable slider to change between slider and numeric input fields</h1>
      
      <div class="d-none name"><code>toggle_slider_ui.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This is useful when a slider should be shown, but it is sometimes hard to configure sliders,
so one can toggle to one or two numeric input fields to set slider instead.
Both normal sliders (for a single number in a range) and dichotomous sliders (for a range
within the slider range) are supported. In the former case, the toggle button
will show one numeric input field, in the latter case two.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a>
</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="fu">toggle_slider_ui</span><span class="op">(</span>
  <span class="va">id</span>,
  <span class="va">label</span>,
  <span class="va">min</span>,
  <span class="va">max</span>,
  <span class="va">value</span>,
  slider_initially <span class="op">=</span> <span class="cn">TRUE</span>,
  step_slider <span class="op">=</span> <span class="cn">NULL</span>,
  step_numeric <span class="op">=</span> <span class="va">step_slider</span>,
  width <span class="op">=</span> <span class="cn">NULL</span>,
  <span class="va">...</span>
<span class="op">)</span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a>
</h2>
    <dl>
<dt>id</dt>
<dd><p><code>character</code> module id</p></dd>
<dt>label</dt>
<dd><p><code>label</code> label for input field, e.g. slider or numeric inputs</p></dd>
<dt>min</dt>
<dd><p><code>numeric or integer</code> minimum value</p></dd>
<dt>max</dt>
<dd><p><code>numeric or integer</code> maximum value</p></dd>
<dt>value</dt>
<dd><p><code>numeric or integer</code> either of length 1 for normal slider or of
length 2 for dichotomous slider.</p></dd>
<dt>slider_initially</dt>
<dd><p><code>logical</code> whether to show slider or numeric fields
initially</p></dd>
<dt>step_slider</dt>
<dd><p><code>numeric or integer</code> step for slider</p></dd>
<dt>step_numeric</dt>
<dd><p><code>numeric or integer</code> step for numeric input fields</p></dd>
<dt>width</dt>
<dd><p><code>numeric</code> width of slider or of each numeric field</p></dd>
<dt>...</dt>
<dd><p>additional parameters to pass to <code>sliderInput</code></p></dd>
</dl>
</div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a>
</h2>
    <p>Shiny HTML UI</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a>
</h2>
    <p>Value is not checked to be within minmax range</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a>
</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span class="va">value</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">20.3</span>, <span class="fl">81.5</span><span class="op">)</span> <span class="co"># dichotomous slider</span></span>
<span class="r-in"><span class="co"># value &lt;- c(50.1) # normal slider</span></span>
<span class="r-in"><span class="va">app</span> <span class="op">&lt;-</span> <span class="fu">shinyApp</span><span class="op">(</span></span>
<span class="r-in">  ui <span class="op">=</span> <span class="fu">div</span><span class="op">(</span></span>
<span class="r-in">    <span class="fu">teal.goshawk</span><span class="fu">:::</span><span class="fu">toggle_slider_ui</span><span class="op">(</span></span>
<span class="r-in">      <span class="st">"toggle_slider"</span>, <span class="st">"Select value"</span>,</span>
<span class="r-in">      min <span class="op">=</span> <span class="fl">0.2</span>, max <span class="op">=</span> <span class="fl">100.1</span>, value <span class="op">=</span> <span class="va">value</span>,</span>
<span class="r-in">      slider_initially <span class="op">=</span> <span class="cn">FALSE</span>, step_slider <span class="op">=</span> <span class="fl">0.1</span>, step_numeric <span class="op">=</span> <span class="fl">0.001</span></span>
<span class="r-in">    <span class="op">)</span>,</span>
<span class="r-in">    <span class="fu">verbatimTextOutput</span><span class="op">(</span><span class="st">"value"</span><span class="op">)</span></span>
<span class="r-in">  <span class="op">)</span>,</span>
<span class="r-in">  server <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">input</span>, <span class="va">output</span>, <span class="va">session</span><span class="op">)</span> <span class="op">{</span></span>
<span class="r-in">    <span class="va">is_dichotomous_slider</span> <span class="op">&lt;-</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">value</span><span class="op">)</span> <span class="op">==</span> <span class="fl">2</span><span class="op">)</span></span>
<span class="r-in">    <span class="va">range_value</span> <span class="op">&lt;-</span> <span class="fu">toggle_slider_server</span><span class="op">(</span><span class="st">"toggle_slider"</span>,</span>
<span class="r-in">      is_dichotomous_slider <span class="op">=</span> <span class="va">is_dichotomous_slider</span></span>
<span class="r-in">    <span class="op">)</span></span>
<span class="r-in">    <span class="va">messages</span> <span class="op">&lt;-</span> <span class="fu">reactiveVal</span><span class="op">(</span><span class="op">)</span> <span class="co"># to keep history</span></span>
<span class="r-in">    <span class="fu">observeEvent</span><span class="op">(</span><span class="va">range_value</span><span class="op">$</span><span class="fu">state</span><span class="op">(</span><span class="op">)</span>, <span class="op">{</span></span>
<span class="r-in">      <span class="va">list_with_names_str</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span>, <span class="va">x</span>, sep <span class="op">=</span> <span class="st">": "</span>, collapse <span class="op">=</span> <span class="st">", "</span><span class="op">)</span></span>
<span class="r-in">      <span class="fu">messages</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fu">messages</span><span class="op">(</span><span class="op">)</span>, <span class="fu">list_with_names_str</span><span class="op">(</span><span class="va">range_value</span><span class="op">$</span><span class="fu">state</span><span class="op">(</span><span class="op">)</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-in">    <span class="op">}</span><span class="op">)</span></span>
<span class="r-in">    <span class="va">output</span><span class="op">$</span><span class="va">value</span> <span class="op">&lt;-</span> <span class="fu">renderText</span><span class="op">(</span><span class="op">{</span></span>
<span class="r-in">      <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="fu">messages</span><span class="op">(</span><span class="op">)</span>, collapse <span class="op">=</span> <span class="st">"\n"</span><span class="op">)</span></span>
<span class="r-in">    <span class="op">}</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in">    <span class="co"># for stress-testing example, update slider settings</span></span>
<span class="r-in">    <span class="co"># bug with invalidateLater not working inside `observeEvent`</span></span>
<span class="r-in">    <span class="co"># observe({</span></span>
<span class="r-in">    <span class="co">#   invalidateLater(1000, session)</span></span>
<span class="r-in">    <span class="co">#   a &lt;- sample(0:100, 1) # for range</span></span>
<span class="r-in">    <span class="co">#   b &lt;- sample(0:100, 1)</span></span>
<span class="r-in">    <span class="co">#   isolate(do.call(</span></span>
<span class="r-in">    <span class="co">#     range_value$update_state,</span></span>
<span class="r-in">    <span class="co">#     list(</span></span>
<span class="r-in">    <span class="co">#       value = sort(sample(0:100, if (is_dichotomous_slider) 2 else 1)),</span></span>
<span class="r-in">    <span class="co">#       min = min(a, b), max = max(a, b),</span></span>
<span class="r-in">    <span class="co">#       step = sample(1:20, 1) / 10</span></span>
<span class="r-in">    <span class="co">#     )[sample(1:4, sample(4, 1))] # select up to four fields from the list</span></span>
<span class="r-in">    <span class="co">#   ))</span></span>
<span class="r-in">    <span class="co"># })</span></span>
<span class="r-in">  <span class="op">}</span></span>
<span class="r-in"><span class="op">)</span></span>
<span class="r-in"><span class="fu">shinyApp</span><span class="op">(</span><span class="va">app</span><span class="op">$</span><span class="va">ui</span>, <span class="va">app</span><span class="op">$</span><span class="va">server</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/invisible.html" class="external-link">invisible</a></span><span class="op">(</span><span class="op">)</span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>


    <footer><div class="nest">
  <p>teal.goshawk is a part of the <strong>NEST</strong> and <a href="https://pharmaverse.org/" class="external-link"><strong>pharmaverse</strong></a>.</p>
</div>
<script type="text/javascript" src="../analytics.js"></script></footer>
</div>

  

  

  </body>
</html>
